/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var qe=Object.create;var Pt=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var $e=Object.getPrototypeOf,Ze=Object.prototype.hasOwnProperty;var me=i=>Pt(i,"__esModule",{value:!0});var Je=(i,t)=>{me(i);for(var e in t)Pt(i,e,{get:t[e],enumerable:!0})},Qe=(i,t,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ve(t))!Ze.call(i,n)&&n!=="default"&&Pt(i,n,{get:()=>t[n],enumerable:!(e=Ue(t,n))||e.enumerable});return i},ve=i=>Qe(me(Pt(i!=null?qe($e(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0})),i);var ot=(i,t,e)=>new Promise((n,r)=>{var o=l=>{try{s(e.next(l))}catch(u){r(u)}},a=l=>{try{s(e.throw(l))}catch(u){r(u)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(i,t)).next())});Je(exports,{default:()=>pe});function xt(i,t){let e=Object.keys(t).map(n=>tn(i,n,t[n]));return e.length===1?e[0]:function(){e.forEach(n=>n())}}function tn(i,t,e){let n=i[t],r=i.hasOwnProperty(t),o=e(n);return n&&Object.setPrototypeOf(o,n),Object.setPrototypeOf(a,o),i[t]=a,s;function a(...l){return o===n&&i[t]===a&&s(),o.apply(this,l)}function s(){i[t]===a&&(r?i[t]=n:delete i[t]),o!==n&&(o=n,Object.setPrototypeOf(a,n||Function))}}var H=ve(require("obsidian"));function be(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),e.push.apply(e,n)}return e}function W(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?be(Object(e),!0).forEach(function(n){en(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):be(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function Bt(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bt=function(t){return typeof t}:Bt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(i)}function en(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function U(){return U=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},U.apply(this,arguments)}function nn(i,t){if(i==null)return{};var e={},n=Object.keys(i),r,o;for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&(e[r]=i[r]);return e}function rn(i,t){if(i==null)return{};var e=nn(i,t),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,n)||(e[n]=i[n]))}return e}var on="1.14.0";function V(i){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(i)}var $=V(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Et=V(/Edge/i),ye=V(/firefox/i),St=V(/safari/i)&&!V(/chrome/i)&&!V(/android/i),Ee=V(/iP(ad|od|hone)/i),an=V(/chrome/i)&&V(/android/i),Se={capture:!1,passive:!1};function E(i,t,e){i.addEventListener(t,e,!$&&Se)}function y(i,t,e){i.removeEventListener(t,e,!$&&Se)}function kt(i,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),i)try{if(i.matches)return i.matches(t);if(i.msMatchesSelector)return i.msMatchesSelector(t);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function sn(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function K(i,t,e,n){if(i){e=e||document;do{if(t!=null&&(t[0]===">"?i.parentNode===e&&kt(i,t):kt(i,t))||n&&i===e)return i;if(i===e)break}while(i=sn(i))}return null}var we=/\s+/g;function x(i,t,e){if(i&&t)if(i.classList)i.classList[e?"add":"remove"](t);else{var n=(" "+i.className+" ").replace(we," ").replace(" "+t+" "," ");i.className=(n+(e?" "+t:"")).replace(we," ")}}function h(i,t,e){var n=i&&i.style;if(n){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(e=i.currentStyle),t===void 0?e:e[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=e+(typeof e=="string"?"":"px")}}function ut(i,t){var e="";if(typeof i=="string")e=i;else do{var n=h(i,"transform");n&&n!=="none"&&(e=n+" "+e)}while(!t&&(i=i.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function De(i,t,e){if(i){var n=i.getElementsByTagName(t),r=0,o=n.length;if(e)for(;r<o;r++)e(n[r],r);return n}return[]}function j(){var i=document.scrollingElement;return i||document.documentElement}function C(i,t,e,n,r){if(!(!i.getBoundingClientRect&&i!==window)){var o,a,s,l,u,f,d;if(i!==window&&i.parentNode&&i!==j()?(o=i.getBoundingClientRect(),a=o.top,s=o.left,l=o.bottom,u=o.right,f=o.height,d=o.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(t||e)&&i!==window&&(r=r||i.parentNode,!$))do if(r&&r.getBoundingClientRect&&(h(r,"transform")!=="none"||e&&h(r,"position")!=="static")){var m=r.getBoundingClientRect();a-=m.top+parseInt(h(r,"border-top-width")),s-=m.left+parseInt(h(r,"border-left-width")),l=a+o.height,u=s+o.width;break}while(r=r.parentNode);if(n&&i!==window){var v=ut(r||i),b=v&&v.a,S=v&&v.d;v&&(a/=S,s/=b,d/=b,f/=S,l=a+f,u=s+d)}return{top:a,left:s,bottom:l,right:u,width:d,height:f}}}function Te(i,t,e){for(var n=Q(i,!0),r=C(i)[t];n;){var o=C(n)[e],a=void 0;if(e==="top"||e==="left"?a=r>=o:a=r<=o,!a)return n;if(n===j())break;n=Q(n,!1)}return!1}function ct(i,t,e,n){for(var r=0,o=0,a=i.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==p.ghost&&(n||a[o]!==p.dragged)&&K(a[o],e.draggable,i,!1)){if(r===t)return a[o];r++}o++}return null}function $t(i,t){for(var e=i.lastElementChild;e&&(e===p.ghost||h(e,"display")==="none"||t&&!kt(e,t));)e=e.previousElementSibling;return e||null}function L(i,t){var e=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==p.clone&&(!t||kt(i,t))&&e++;return e}function _e(i){var t=0,e=0,n=j();if(i)do{var r=ut(i),o=r.a,a=r.d;t+=i.scrollLeft*o,e+=i.scrollTop*a}while(i!==n&&(i=i.parentNode));return[t,e]}function ln(i,t){for(var e in i)if(!!i.hasOwnProperty(e)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===i[e][n])return Number(e)}return-1}function Q(i,t){if(!i||!i.getBoundingClientRect)return j();var e=i,n=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=h(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return j();if(n||t)return e;n=!0}}while(e=e.parentNode);return j()}function un(i,t){if(i&&t)for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Zt(i,t){return Math.round(i.top)===Math.round(t.top)&&Math.round(i.left)===Math.round(t.left)&&Math.round(i.height)===Math.round(t.height)&&Math.round(i.width)===Math.round(t.width)}var wt;function Ce(i,t){return function(){if(!wt){var e=arguments,n=this;e.length===1?i.call(n,e[0]):i.apply(n,e),wt=setTimeout(function(){wt=void 0},t)}}}function cn(){clearTimeout(wt),wt=void 0}function Oe(i,t,e){i.scrollLeft+=t,i.scrollTop+=e}function Ae(i){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(i).cloneNode(!0):e?e(i).clone(!0)[0]:i.cloneNode(!0)}var B="Sortable"+new Date().getTime();function dn(){var i=[],t;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(h(r,"display")==="none"||r===p.ghost)){i.push({target:r,rect:C(r)});var o=W({},i[i.length-1].rect);if(r.thisAnimationDuration){var a=ut(r,!0);a&&(o.top-=a.f,o.left-=a.e)}r.fromRect=o}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(ln(i,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,a=0;i.forEach(function(s){var l=0,u=s.target,f=u.fromRect,d=C(u),m=u.prevFromRect,v=u.prevToRect,b=s.rect,S=ut(u,!0);S&&(d.top-=S.f,d.left-=S.e),u.toRect=d,u.thisAnimationDuration&&Zt(m,d)&&!Zt(f,d)&&(b.top-d.top)/(b.left-d.left)==(f.top-d.top)/(f.left-d.left)&&(l=hn(b,m,v,r.options)),Zt(d,f)||(u.prevFromRect=f,u.prevToRect=d,l||(l=r.options.animation),r.animate(u,b,d,l)),l&&(o=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),i=[]},animate:function(n,r,o,a){if(a){h(n,"transition",""),h(n,"transform","");var s=ut(this.el),l=s&&s.a,u=s&&s.d,f=(r.left-o.left)/(l||1),d=(r.top-o.top)/(u||1);n.animatingX=!!f,n.animatingY=!!d,h(n,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=fn(n),h(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){h(n,"transition",""),h(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function fn(i){return i.offsetWidth}function hn(i,t,e,n){return Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*n.animation}var dt=[],Jt={initializeByDefault:!0},Dt={mount:function(t){for(var e in Jt)Jt.hasOwnProperty(e)&&!(e in t)&&(t[e]=Jt[e]);dt.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),dt.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=t+"Global";dt.forEach(function(a){!e[a.pluginName]||(e[a.pluginName][o]&&e[a.pluginName][o](W({sortable:e},n)),e.options[a.pluginName]&&e[a.pluginName][t]&&e[a.pluginName][t](W({sortable:e},n)))})},initializePlugins:function(t,e,n,r){dt.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var u=new s(t,e,t.options);u.sortable=t,u.options=t.options,t[l]=u,U(n,u.defaults)}});for(var o in t.options)if(!!t.options.hasOwnProperty(o)){var a=this.modifyOption(t,o,t.options[o]);typeof a!="undefined"&&(t.options[o]=a)}},getEventProperties:function(t,e){var n={};return dt.forEach(function(r){typeof r.eventProperties=="function"&&U(n,r.eventProperties.call(e[r.pluginName],t))}),n},modifyOption:function(t,e,n){var r;return dt.forEach(function(o){!t[o.pluginName]||o.optionListeners&&typeof o.optionListeners[e]=="function"&&(r=o.optionListeners[e].call(t[o.pluginName],n))}),r}};function pn(i){var t=i.sortable,e=i.rootEl,n=i.name,r=i.targetEl,o=i.cloneEl,a=i.toEl,s=i.fromEl,l=i.oldIndex,u=i.newIndex,f=i.oldDraggableIndex,d=i.newDraggableIndex,m=i.originalEvent,v=i.putSortable,b=i.extraEventProperties;if(t=t||e&&e[B],!!t){var S,R=t.options,z="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!$&&!Et?S=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(n,!0,!0)),S.to=a||e,S.from=s||e,S.item=r||e,S.clone=o,S.oldIndex=l,S.newIndex=u,S.oldDraggableIndex=f,S.newDraggableIndex=d,S.originalEvent=m,S.pullMode=v?v.lastPutMode:void 0;var I=W(W({},b),Dt.getEventProperties(n,t));for(var F in I)S[F]=I[F];e&&e.dispatchEvent(S),R[z]&&R[z].call(t,S)}}var gn=["evt"],N=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=rn(n,gn);Dt.pluginEvent.bind(p)(t,e,W({dragEl:c,parentEl:D,ghostEl:g,rootEl:w,nextEl:at,lastDownEl:Lt,cloneEl:T,cloneHidden:tt,dragStarted:_t,putSortable:O,activeSortable:p.active,originalEvent:r,oldIndex:ft,oldDraggableIndex:Tt,newIndex:k,newDraggableIndex:et,hideGhostForTarget:ke,unhideGhostForTarget:Le,cloneNowHidden:function(){tt=!0},cloneNowShown:function(){tt=!1},dispatchSortableEvent:function(s){M({sortable:e,name:s,originalEvent:r})}},o))};function M(i){pn(W({putSortable:O,cloneEl:T,targetEl:c,rootEl:w,oldIndex:ft,oldDraggableIndex:Tt,newIndex:k,newDraggableIndex:et},i))}var c,D,g,w,at,Lt,T,tt,ft,k,Tt,et,Ht,O,ht=!1,Rt=!1,Ft=[],st,X,Qt,te,Ie,Me,_t,pt,Ct,Ot=!1,Xt=!1,Yt,A,ee=[],ne=!1,Gt=[],Wt=typeof document!="undefined",Kt=Ee,Ne=Et||$?"cssFloat":"float",mn=Wt&&!an&&!Ee&&"draggable"in document.createElement("div"),Pe=function(){if(!!Wt){if($)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),xe=function(t,e){var n=h(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=ct(t,0,e),a=ct(t,1,e),s=o&&h(o),l=a&&h(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(o).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=r&&n[Ne]==="none"||a&&n[Ne]==="none"&&u+f>r)?"vertical":"horizontal"},vn=function(t,e,n){var r=n?t.left:t.top,o=n?t.right:t.bottom,a=n?t.width:t.height,s=n?e.left:e.top,l=n?e.right:e.bottom,u=n?e.width:e.height;return r===s||o===l||r+a/2===s+u/2},bn=function(t,e){var n;return Ft.some(function(r){var o=r[B].options.emptyInsertThreshold;if(!(!o||$t(r))){var a=C(r),s=t>=a.left-o&&t<=a.right+o,l=e>=a.top-o&&e<=a.bottom+o;if(s&&l)return n=r}}),n},Be=function(t){function e(o,a){return function(s,l,u,f){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(o==null&&(a||d))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return e(o(s,l,u,f),a)(s,l,u,f);var m=(a?s:l).options.group.name;return o===!0||typeof o=="string"&&o===m||o.join&&o.indexOf(m)>-1}}var n={},r=t.group;(!r||Bt(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},ke=function(){!Pe&&g&&h(g,"display","none")},Le=function(){!Pe&&g&&h(g,"display","")};Wt&&document.addEventListener("click",function(i){if(Rt)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Rt=!1,!1},!0);var lt=function(t){if(c){t=t.touches?t.touches[0]:t;var e=bn(t.clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[B]._onDragOver(n)}}},yn=function(t){c&&c.parentNode[B]._isOutsideThisEl(t.target)};function p(i,t){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=t=U({},t),i[B]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return xe(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!St,emptyInsertThreshold:5};Dt.initializePlugins(this,i,e);for(var n in e)!(n in t)&&(t[n]=e[n]);Be(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:mn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?E(i,"pointerdown",this._onTapStart):(E(i,"mousedown",this._onTapStart),E(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(i,"dragover",this),E(i,"dragenter",this)),Ft.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),U(this,dn())}p.prototype={constructor:p,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(pt=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,c):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,f=r.filter;if(On(n),!c&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&St&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=K(l,r.draggable,n,!1),!(l&&l.animated)&&Lt!==l)){if(ft=L(l),Tt=L(l,r.draggable),typeof f=="function"){if(f.call(this,t,l,this)){M({sortable:e,rootEl:u,name:"filter",targetEl:l,toEl:n,fromEl:n}),N("filter",e,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=K(u,d.trim(),n,!1),d)return M({sortable:e,rootEl:d,name:"filter",targetEl:l,fromEl:n,toEl:n}),N("filter",e,{evt:t}),!0}),f)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!K(u,r.handle,n,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,e,n){var r=this,o=r.el,a=r.options,s=o.ownerDocument,l;if(n&&!c&&n.parentNode===o){var u=C(n);if(w=o,c=n,D=c.parentNode,at=c.nextSibling,Lt=n,Ht=a.group,p.dragged=c,st={target:c,clientX:(e||t).clientX,clientY:(e||t).clientY},Ie=st.clientX-u.left,Me=st.clientY-u.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,c.style["will-change"]="all",l=function(){if(N("delayEnded",r,{evt:t}),p.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ye&&r.nativeDraggable&&(c.draggable=!0),r._triggerDragStart(t,e),M({sortable:r,name:"choose",originalEvent:t}),x(c,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){De(c,f.trim(),ie)}),E(s,"dragover",lt),E(s,"mousemove",lt),E(s,"touchmove",lt),E(s,"mouseup",r._onDrop),E(s,"touchend",r._onDrop),E(s,"touchcancel",r._onDrop),ye&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),N("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(Et||$))){if(p.eventCanceled){this._onDrop();return}E(s,"mouseup",r._disableDelayedDrag),E(s,"touchend",r._disableDelayedDrag),E(s,"touchcancel",r._disableDelayedDrag),E(s,"mousemove",r._delayedDragTouchMoveHandler),E(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&E(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&ie(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._disableDelayedDrag),y(t,"touchend",this._disableDelayedDrag),y(t,"touchcancel",this._disableDelayedDrag),y(t,"mousemove",this._delayedDragTouchMoveHandler),y(t,"touchmove",this._delayedDragTouchMoveHandler),y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):e?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(c,"dragend",this),E(w,"dragstart",this._onDragStart));try{document.selection?zt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(ht=!1,w&&c){N("dragStarted",this,{evt:e}),this.nativeDraggable&&E(document,"dragover",yn);var n=this.options;!t&&x(c,n.dragClass,!1),x(c,n.ghostClass,!0),p.active=this,t&&this._appendGhost(),M({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(X){this._lastX=X.clientX,this._lastY=X.clientY,ke();for(var t=document.elementFromPoint(X.clientX,X.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(X.clientX,X.clientY),t!==e);)e=t;if(c.parentNode[B]._isOutsideThisEl(t),e)do{if(e[B]){var n=void 0;if(n=e[B]._onDragOver({clientX:X.clientX,clientY:X.clientY,target:t,rootEl:e}),n&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Le()}},_onTouchMove:function(t){if(st){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,a=g&&ut(g,!0),s=g&&a&&a.a,l=g&&a&&a.d,u=Kt&&A&&_e(A),f=(o.clientX-st.clientX+r.x)/(s||1)+(u?u[0]-ee[0]:0)/(s||1),d=(o.clientY-st.clientY+r.y)/(l||1)+(u?u[1]-ee[1]:0)/(l||1);if(!p.active&&!ht){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(g){a?(a.e+=f-(Qt||0),a.f+=d-(te||0)):a={a:1,b:0,c:0,d:1,e:f,f:d};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(g,"webkitTransform",m),h(g,"mozTransform",m),h(g,"msTransform",m),h(g,"transform",m),Qt=f,te=d,X=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!g){var t=this.options.fallbackOnBody?document.body:w,e=C(c,!0,Kt,!0,t),n=this.options;if(Kt){for(A=t;h(A,"position")==="static"&&h(A,"transform")==="none"&&A!==document;)A=A.parentNode;A!==document.body&&A!==document.documentElement?(A===document&&(A=j()),e.top+=A.scrollTop,e.left+=A.scrollLeft):A=j(),ee=_e(A)}g=c.cloneNode(!0),x(g,n.ghostClass,!1),x(g,n.fallbackClass,!0),x(g,n.dragClass,!0),h(g,"transition",""),h(g,"transform",""),h(g,"box-sizing","border-box"),h(g,"margin",0),h(g,"top",e.top),h(g,"left",e.left),h(g,"width",e.width),h(g,"height",e.height),h(g,"opacity","0.8"),h(g,"position",Kt?"absolute":"fixed"),h(g,"zIndex","100000"),h(g,"pointerEvents","none"),p.ghost=g,t.appendChild(g),h(g,"transform-origin",Ie/parseInt(g.style.width)*100+"% "+Me/parseInt(g.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;if(N("dragStart",this,{evt:t}),p.eventCanceled){this._onDrop();return}N("setupClone",this),p.eventCanceled||(T=Ae(c),T.draggable=!1,T.style["will-change"]="",this._hideClone(),x(T,this.options.chosenClass,!1),p.clone=T),n.cloneId=zt(function(){N("clone",n),!p.eventCanceled&&(n.options.removeCloneOnHide||w.insertBefore(T,c),n._hideClone(),M({sortable:n,name:"clone"}))}),!e&&x(c,o.dragClass,!0),e?(Rt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,c)),E(document,"drop",n),h(c,"transform","translateZ(0)")),ht=!0,n._dragStartId=zt(n._dragStarted.bind(n,e,t)),E(document,"selectstart",n),_t=!0,St&&h(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,n=t.target,r,o,a,s=this.options,l=s.group,u=p.active,f=Ht===l,d=s.sort,m=O||u,v,b=this,S=!1;if(ne)return;function R(yt,je){N(yt,b,W({evt:t,isOwner:f,axis:v?"vertical":"horizontal",revert:a,dragRect:r,targetRect:o,canSort:d,fromSortable:m,target:n,completed:I,onMove:function(ge,ze){return jt(w,e,c,r,ge,C(ge),t,ze)},changed:F},je))}function z(){R("dragOverAnimationCapture"),b.captureAnimationState(),b!==m&&m.captureAnimationState()}function I(yt){return R("dragOverCompleted",{insertion:yt}),yt&&(f?u._hideClone():u._showClone(b),b!==m&&(x(c,O?O.options.ghostClass:u.options.ghostClass,!1),x(c,s.ghostClass,!0)),O!==b&&b!==p.active?O=b:b===p.active&&O&&(O=null),m===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){R("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===c&&!c.animated||n===e&&!n.animated)&&(pt=null),!s.dragoverBubble&&!t.rootEl&&n!==document&&(c.parentNode[B]._isOutsideThisEl(t.target),!yt&&lt(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),S=!0}function F(){k=L(c),et=L(c,s.draggable),M({sortable:b,name:"change",toEl:e,newIndex:k,newDraggableIndex:et,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=K(n,s.draggable,e,!0),R("dragOver"),p.eventCanceled)return S;if(c.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return I(!1);if(Rt=!1,u&&!s.disabled&&(f?d||(a=D!==w):O===this||(this.lastPutMode=Ht.checkPull(this,u,c,t))&&l.checkPut(this,u,c,t))){if(v=this._getDirection(t,n)==="vertical",r=C(c),R("dragOverValid"),p.eventCanceled)return S;if(a)return D=w,z(),this._hideClone(),R("revert"),p.eventCanceled||(at?w.insertBefore(c,at):w.appendChild(c)),I(!0);var Y=$t(e,s.draggable);if(!Y||Dn(t,v,this)&&!Y.animated){if(Y===c)return I(!1);if(Y&&e===t.target&&(n=Y),n&&(o=C(n)),jt(w,e,c,r,n,o,t,!!n)!==!1)return z(),e.appendChild(c),D=e,F(),I(!0)}else if(Y&&wn(t,v,this)){var nt=ct(e,0,s,!0);if(nt===c)return I(!1);if(n=nt,o=C(n),jt(w,e,c,r,n,o,t,!1)!==!1)return z(),e.insertBefore(c,nt),D=e,F(),I(!0)}else if(n.parentNode===e){o=C(n);var G=0,it,gt=c.parentNode!==e,P=!vn(c.animated&&c.toRect||r,n.animated&&n.toRect||o,v),mt=v?"top":"left",Z=Te(n,"top","top")||Te(c,"top","top"),vt=Z?Z.scrollTop:void 0;pt!==n&&(it=o[mt],Ot=!1,Xt=!P&&s.invertSwap||gt),G=Tn(t,n,o,v,P?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Xt,pt===n);var q;if(G!==0){var rt=L(c);do rt-=G,q=D.children[rt];while(q&&(h(q,"display")==="none"||q===g))}if(G===0||q===n)return I(!1);pt=n,Ct=G;var bt=n.nextElementSibling,J=!1;J=G===1;var Nt=jt(w,e,c,r,n,o,t,J);if(Nt!==!1)return(Nt===1||Nt===-1)&&(J=Nt===1),ne=!0,setTimeout(Sn,30),z(),J&&!bt?e.appendChild(c):n.parentNode.insertBefore(c,J?bt:n),Z&&Oe(Z,0,vt-Z.scrollTop),D=c.parentNode,it!==void 0&&!Xt&&(Yt=Math.abs(it-C(n)[mt])),F(),I(!0)}if(e.contains(c))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",lt),y(document,"mousemove",lt),y(document,"touchmove",lt)},_offUpEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._onDrop),y(t,"touchend",this._onDrop),y(t,"pointerup",this._onDrop),y(t,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(k=L(c),et=L(c,n.draggable),N("drop",this,{evt:t}),D=c&&c.parentNode,k=L(c),et=L(c,n.draggable),p.eventCanceled){this._nulling();return}ht=!1,Xt=!1,Ot=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),re(this.cloneId),re(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),St&&h(document.body,"user-select",""),h(c,"transform",""),t&&(_t&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(w===D||O&&O.lastPutMode!=="clone")&&T&&T.parentNode&&T.parentNode.removeChild(T),c&&(this.nativeDraggable&&y(c,"dragend",this),ie(c),c.style["will-change"]="",_t&&!ht&&x(c,O?O.options.ghostClass:this.options.ghostClass,!1),x(c,this.options.chosenClass,!1),M({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:t}),w!==D?(k>=0&&(M({rootEl:D,name:"add",toEl:D,fromEl:w,originalEvent:t}),M({sortable:this,name:"remove",toEl:D,originalEvent:t}),M({rootEl:D,name:"sort",toEl:D,fromEl:w,originalEvent:t}),M({sortable:this,name:"sort",toEl:D,originalEvent:t})),O&&O.save()):k!==ft&&k>=0&&(M({sortable:this,name:"update",toEl:D,originalEvent:t}),M({sortable:this,name:"sort",toEl:D,originalEvent:t})),p.active&&((k==null||k===-1)&&(k=ft,et=Tt),M({sortable:this,name:"end",toEl:D,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){N("nulling",this),w=c=D=g=at=T=Lt=tt=st=X=_t=k=et=ft=Tt=pt=Ct=O=Ht=p.dragged=p.ghost=p.clone=p.active=null,Gt.forEach(function(t){t.checked=!0}),Gt.length=Qt=te=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":c&&(this._onDragOver(t),En(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,n=this.el.children,r=0,o=n.length,a=this.options;r<o;r++)e=n[r],K(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Cn(e));return t},sort:function(t,e){var n={},r=this.el;this.toArray().forEach(function(o,a){var s=r.children[a];K(s,this.options.draggable,r,!1)&&(n[o]=s)},this),e&&this.captureAnimationState(),t.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return K(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(e===void 0)return n[t];var r=Dt.modifyOption(this,t,e);typeof r!="undefined"?n[t]=r:n[t]=e,t==="group"&&Be(n)},destroy:function(){N("destroy",this);var t=this.el;t[B]=null,y(t,"mousedown",this._onTapStart),y(t,"touchstart",this._onTapStart),y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(t,"dragover",this),y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ft.splice(Ft.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!tt){if(N("hideClone",this),p.eventCanceled)return;h(T,"display","none"),this.options.removeCloneOnHide&&T.parentNode&&T.parentNode.removeChild(T),tt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(tt){if(N("showClone",this),p.eventCanceled)return;c.parentNode==w&&!this.options.group.revertClone?w.insertBefore(T,c):at?w.insertBefore(T,at):w.appendChild(T),this.options.group.revertClone&&this.animate(c,T),h(T,"display",""),tt=!1}}};function En(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function jt(i,t,e,n,r,o,a,s){var l,u=i[B],f=u.options.onMove,d;return window.CustomEvent&&!$&&!Et?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=i,l.dragged=e,l.draggedRect=n,l.related=r||t,l.relatedRect=o||C(t),l.willInsertAfter=s,l.originalEvent=a,i.dispatchEvent(l),f&&(d=f.call(u,l,a)),d}function ie(i){i.draggable=!1}function Sn(){ne=!1}function wn(i,t,e){var n=C(ct(e.el,0,e.options,!0)),r=10;return t?i.clientX<n.left-r||i.clientY<n.top&&i.clientX<n.right:i.clientY<n.top-r||i.clientY<n.bottom&&i.clientX<n.left}function Dn(i,t,e){var n=C($t(e.el,e.options.draggable)),r=10;return t?i.clientX>n.right+r||i.clientX<=n.right&&i.clientY>n.bottom&&i.clientX>=n.left:i.clientX>n.right&&i.clientY>n.top||i.clientX<=n.right&&i.clientY>n.bottom+r}function Tn(i,t,e,n,r,o,a,s){var l=n?i.clientY:i.clientX,u=n?e.height:e.width,f=n?e.top:e.left,d=n?e.bottom:e.right,m=!1;if(!a){if(s&&Yt<u*r){if(!Ot&&(Ct===1?l>f+u*o/2:l<d-u*o/2)&&(Ot=!0),Ot)m=!0;else if(Ct===1?l<f+Yt:l>d-Yt)return-Ct}else if(l>f+u*(1-r)/2&&l<d-u*(1-r)/2)return _n(t)}return m=m||a,m&&(l<f+u*o/2||l>d-u*o/2)?l>f+u/2?1:-1:0}function _n(i){return L(c)<L(i)?1:-1}function Cn(i){for(var t=i.tagName+i.className+i.src+i.href+i.textContent,e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function On(i){Gt.length=0;for(var t=i.getElementsByTagName("input"),e=t.length;e--;){var n=t[e];n.checked&&Gt.push(n)}}function zt(i){return setTimeout(i,0)}function re(i){return clearTimeout(i)}Wt&&E(document,"touchmove",function(i){(p.active||ht)&&i.cancelable&&i.preventDefault()});p.utils={on:E,off:y,css:h,find:De,is:function(t,e){return!!K(t,e,t,!1)},extend:un,throttle:Ce,closest:K,toggleClass:x,clone:Ae,index:L,nextTick:zt,cancelNextTick:re,detectDirection:xe,getChild:ct};p.get=function(i){return i[B]};p.mount=function(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(p.utils=W(W({},p.utils),n.utils)),Dt.mount(n)})};p.create=function(i,t){return new p(i,t)};p.version=on;var _=[],At,oe,ae=!1,se,le,qt,It;function An(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return i.prototype={dragStarted:function(e){var n=e.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):n.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var n=e.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),He(),Ut(),cn()},nulling:function(){qt=oe=At=ae=It=se=le=null,_.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,n){var r=this,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(o,a);if(qt=e,n||this.options.forceAutoScrollFallback||Et||$||St){ue(e,this.options,s,n);var l=Q(s,!0);ae&&(!It||o!==se||a!==le)&&(It&&He(),It=setInterval(function(){var u=Q(document.elementFromPoint(o,a),!0);u!==l&&(l=u,Ut()),ue(e,r.options,u,n)},10),se=o,le=a)}else{if(!this.options.bubbleScroll||Q(s,!0)===j()){Ut();return}ue(e,this.options,Q(s,!1),!1)}}},U(i,{pluginName:"scroll",initializeByDefault:!0})}function Ut(){_.forEach(function(i){clearInterval(i.pid)}),_=[]}function He(){clearInterval(It)}var ue=Ce(function(i,t,e,n){if(!!t.scroll){var r=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=j(),u=!1,f;oe!==e&&(oe=e,Ut(),At=t.scroll,f=t.scrollFn,At===!0&&(At=Q(e,!0)));var d=0,m=At;do{var v=m,b=C(v),S=b.top,R=b.bottom,z=b.left,I=b.right,F=b.width,Y=b.height,nt=void 0,G=void 0,it=v.scrollWidth,gt=v.scrollHeight,P=h(v),mt=v.scrollLeft,Z=v.scrollTop;v===l?(nt=F<it&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),G=Y<gt&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(nt=F<it&&(P.overflowX==="auto"||P.overflowX==="scroll"),G=Y<gt&&(P.overflowY==="auto"||P.overflowY==="scroll"));var vt=nt&&(Math.abs(I-r)<=a&&mt+F<it)-(Math.abs(z-r)<=a&&!!mt),q=G&&(Math.abs(R-o)<=a&&Z+Y<gt)-(Math.abs(S-o)<=a&&!!Z);if(!_[d])for(var rt=0;rt<=d;rt++)_[rt]||(_[rt]={});(_[d].vx!=vt||_[d].vy!=q||_[d].el!==v)&&(_[d].el=v,_[d].vx=vt,_[d].vy=q,clearInterval(_[d].pid),(vt!=0||q!=0)&&(u=!0,_[d].pid=setInterval(function(){n&&this.layer===0&&p.active._onTouchMove(qt);var bt=_[this.layer].vy?_[this.layer].vy*s:0,J=_[this.layer].vx?_[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[B],J,bt,i,qt,_[this.layer].el)!=="continue"||Oe(_[this.layer].el,J,bt)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&m!==l&&(m=Q(m,!1)));ae=u}},30),Re=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!e){var u=n||o;s();var f=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ce(){}ce.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=ct(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:Re};U(ce,{pluginName:"revertOnSpill"});function de(){}de.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable,r=n||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Re};U(de,{pluginName:"removeOnSpill"});p.mount(new An);p.mount(de,ce);var Vt=p;var Mt=ve(require("obsidian")),Fe={statusBarOrder:[],ribbonBarOrder:[],autoHide:!1,autoHideDelay:2e3},fe=class extends Mt.PluginSettingTab{constructor(t,e){super(t,e);this.plugin=e}hide(){}display(){let{containerEl:t}=this;t.empty(),new Mt.Setting(t).setName("Auto Collapse").setDesc("Automatically hide items once your mouse leaves the icon container").addToggle(e=>e.setValue(this.plugin.settings.autoHide).onChange(n=>{this.plugin.settings.autoHide=n,this.plugin.saveSettings()})),new Mt.Setting(t).setName("Auto Collapse Delay").setDesc("How long to wait before auto collapsing").addText(e=>{e.setPlaceholder(String(2e3)),e.inputEl.type="number",e.setValue(String(this.plugin.settings.autoHideDelay)),e.onChange(n=>ot(this,null,function*(){this.plugin.settings.autoHideDelay=Number(n),this.plugin.saveSettings()}))})}};function Xe(i,t){for(var e=[];i=i.previousSibling;)i.nodeType!==3&&(!t||t(i))&&e.push(i);return e}function Ye(i,t){for(var e=[];i=i.nextSibling;)i.nodeType!==3&&(!t||t(i))&&e.push(i);return e}function Ge(i){var r,o,a;for(var t=i.tagName+((r=i.className)==null?void 0:r.replace("is-hidden","").trim())+i.getAttr("aria-label")+((a=(o=i.querySelector("svg"))==null?void 0:o.className)==null?void 0:a.baseVal),e=t.length,n=0;e--;)n+=t.charCodeAt(e);return n.toString(36)}function We(i,t,e,n=1){return i.splice(e,0,...i.splice(t,n)),i}var In="body > div.app-container div.status-bar",Mn="body > div.app-container div.side-dock-actions";var Ke=100,he=500,pe=class extends H.Plugin{onload(){return ot(this,null,function*(){yield this.loadSettings(),this.registerMonkeyPatches(),this.registerEventHandlers(),this.registerSettingsTab(),this.initialize()})}loadSettings(){return ot(this,null,function*(){this.settings=Object.assign({},Fe,yield this.loadData())})}saveSettings(){return ot(this,null,function*(){yield this.saveData(this.settings)})}initialize(){this.app.workspace.onLayoutReady(()=>{setTimeout(()=>{H.Platform.isDesktop&&(this.insertSeparator(In,"status-bar-item",!0),this.setStatusBarSorter(),this.setTabBarSorter()),this.insertSeparator(Mn,"side-dock-ribbon-action",!1),this.setRibbonBarSorter()},1e3)})}registerSettingsTab(){this.settingsTab=new fe(this.app,this),this.addSettingTab(this.settingsTab)}registerEventHandlers(){this.registerEvent(this.app.workspace.on("bartender-leaf-split",(t,e)=>{let n=[e.tabsInnerEl];this.setTabBarSorter(n)})),this.registerEvent(this.app.workspace.on("bartender-workspace-change",()=>{this.setTabBarSorter()})),this.registerEvent(this.app.workspace.on("ribbon-bar-updated",()=>{setTimeout(()=>{this.settings.ribbonBarOrder&&this.ribbonBarSorter&&(this.setElementIDs(this.ribbonBarSorter.el),this.ribbonBarSorter.sort(this.settings.ribbonBarOrder))},0)})),this.registerEvent(this.app.workspace.on("status-bar-updated",()=>{setTimeout(()=>{this.settings.statusBarOrder&&this.statusBarSorter&&(this.setElementIDs(this.statusBarSorter.el),this.statusBarSorter.sort(this.settings.statusBarOrder))},0)}))}registerMonkeyPatches(){H.Platform.isDesktop&&this.register(xt(HTMLDivElement.prototype,{addEventListener(t){return function(e,n,r){if(e==="mousedown"&&n instanceof Function&&this.hasClass("workspace-tab-header")){let a=n;n=s=>{s instanceof MouseEvent&&((s==null?void 0:s.altKey)||(s==null?void 0:s.metaKey))||a(s)}}return t.call(this,e,n,r)}}})),this.register(xt(H.Workspace.prototype,{splitLeaf(t){return function(e,n,r,o,...a){let s=t.call(this,e,n,r,o,...a);return this.trigger("bartender-leaf-split",e,n),s}},changeLayout(t){return function(e,...n){return ot(this,null,function*(){let r=yield t.call(this,e,...n);return this.trigger("bartender-workspace-change"),r})}}})),this.register(xt(H.Plugin.prototype,{addStatusBarItem(t){return function(...e){let n=t.call(this,...e);return this.app.workspace.trigger("status-bar-updated"),n}},addRibbonIcon(t){return function(...e){let n=t.call(this,...e);return this.app.workspace.trigger("ribbon-bar-updated"),n}}}))}insertSeparator(t,e,n){let r=document.body.querySelectorAll(t),o=!1;r.length>1&&(o=!0),r.forEach(a=>{let s=n?Xe:Ye;if(a){let l=a.createDiv(`${e} separator`);n&&a.prepend(l);let u=l.createDiv("line");(0,H.setIcon)(u,n?"right-arrow":"up-chevron-glyph"),l.addClass("is-collapsed"),this.register(()=>l.detach());let d;l.onClickEvent(m=>{l.hasClass("is-collapsed")?(Array.from(a.children).forEach(v=>v.removeClass("is-hidden")),l.removeClass("is-collapsed")):(s(l).forEach(v=>v.addClass("is-hidden")),l.addClass("is-collapsed"))}),a.onmouseenter=m=>{d&&clearTimeout(d)},a.onmouseleave=m=>{this.settings.autoHide&&(d=setTimeout(()=>{s(l).forEach(v=>v.addClass("is-hidden")),l.addClass("is-collapsed")},this.settings.autoHideDelay))},setTimeout(()=>{s(l).forEach(m=>m.addClass("is-hidden")),l.addClass("is-collapsed")},0)}})}setElementIDs(t){Array.from(t.children).forEach(e=>{e instanceof HTMLElement&&(e.getAttribute("data-id")||e.setAttribute("data-id",Ge(e)))})}setTabBarSorter(t){t||(t=document.body.querySelectorAll(".workspace-tab-container-inner")),t.forEach(e=>{if(e){this.setElementIDs(e);let n=Vt.create(e,{group:"leftTabBar",dataIdAttr:"data-id",delay:0,animation:he,onStart:()=>{var r;(r=e.querySelector(".separator"))==null||r.removeClass("is-collapsed"),Array.from(e.children).forEach(o=>o.removeClass("is-hidden"))},onEnd:r=>{let o;if(this.app.workspace.iterateAllLeaves(a=>{a.tabHeaderEl===r.item&&(o=a)}),o instanceof H.WorkspaceLeaf){let{parentSplit:a}=o,s=a.children.indexOf(o);r.oldIndex!==void 0&&r.newIndex!==void 0&&(We(a.children,r.oldIndex,r.newIndex),a.currentTab=r.newIndex,a.recomputeChildrenDimensions()),this.app.workspace.requestSaveLayout()}}});this.register(()=>n.destroy())}})}setStatusBarSorter(){let t=document.body.querySelector("body > div.app-container > div.status-bar");t&&(this.setElementIDs(t),this.statusBarSorter=Vt.create(t,{group:"statusBar",dataIdAttr:"data-id",delay:Ke,animation:he,onStart:()=>{var e;(e=t.querySelector(".separator"))==null||e.removeClass("is-collapsed"),Array.from(t.children).forEach(n=>n.removeClass("is-hidden"))},store:{get:e=>this.settings.statusBarOrder,set:e=>{this.settings.statusBarOrder=e.toArray(),this.saveSettings()}}}))}setRibbonBarSorter(){let t=document.body.querySelector("body > div.app-container div.side-dock-actions");t&&(this.setElementIDs(t),this.ribbonBarSorter=Vt.create(t,{group:"ribbonBar",dataIdAttr:"data-id",delay:Ke,animation:he,onStart:()=>{var e;(e=t.querySelector(".separator"))==null||e.removeClass("is-collapsed"),Array.from(t.children).forEach(n=>n.removeClass("is-hidden"))},store:{get:e=>this.settings.ribbonBarOrder,set:e=>{this.settings.ribbonBarOrder=e.toArray(),this.saveSettings()}}}))}onunload(){var t,e;(t=this.statusBarSorter)==null||t.destroy(),(e=this.ribbonBarSorter)==null||e.destroy()}};
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
