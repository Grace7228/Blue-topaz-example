---
cssclass: cards
usage: 对dataview表格渲染成卡片视图
banner: 99-Attachment/banner/book.jpg
obsidianUIMode: preview
---

> 实现方法参考[[如何在Obsidian中添加图书卡片]]
> 需要安装metaedit 插件实现 点击修改元数据和状态控制
>  点击评级 和状态 即可修改元数据



```dataviewjs
const {update,autoprop} = this.app.plugins.plugins["metaedit"].api;

const buttonMaker = (pn, pv, fpath) => {
    const btn = this.container.createEl('button', {"text": pv});
    btn.addEventListener('click', async (evt) => {
        evt.preventDefault();
		const newtext = await autoprop("当前属性")
        await update(pn, newtext, fpath);
    });
    return btn;
}



const pages = dv.pages("#book")
    .sort(t => t.rating, 'desc')
    //.where(t => t.status != "Completed")
	.where(t => t.file.folder !="88-Template" )
    .map(t =>  ["![]("+t.cover+")" , t.file.link, t.author,t.rating,buttonMaker('progress',t.progress??'评级',t.file.path),buttonMaker('status',t.status??'状态',t.file.path) ])


dv.table(["cover", "name", "author", "rating", "progress","status"], pages)


```